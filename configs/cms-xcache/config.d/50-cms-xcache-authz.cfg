#
# Configure authorization for the StashCache cache server.
#
# **********************************************************************
# * WARNING: DO NOT EDIT THIS FILE.  IT WILL BE OVERWRITTEN ON UPGRADE *
# **********************************************************************
#
# This file is part of the CMS XCache Daemon                                                                                                                     

xrd.allow host * 

# Enable the gsi authentication using lcmaps

sec.protocol /usr/lib64 gsi \
  -certdir:/etc/grid-security/certificates \
  -cert:/etc/grid-security/xrd/xrdcert.pem \
  -key:/etc/grid-security/xrd/xrdkey.pem \
  -crl:1 -authzfun:libXrdLcmaps.so \
  -authzfunparms:--lcmapscfg,/etc/xrootd/lcmaps.db,\
  --loglevel,5 \
  -gmapopt:10 -gmapto:0

# The Authorization file for which users can do which actions:
# https://opensciencegrid.org/docs/data/xrootd/xrootd-authorization/
acc.authdb /etc/xrootd/Authfile-cms-xcache

sec.protbind * gsi
ofs.authorize 1
acc.audit deny grant
xrootd.seclib /usr/lib64/libXrdSec.so
